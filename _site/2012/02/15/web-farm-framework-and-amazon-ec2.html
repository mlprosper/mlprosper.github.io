<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Web Farm Framework and Amazon EC2</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Web Farm Framework and Amazon EC2</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-15T00:00:00-08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I&#8217;ve been trying to take advantage of the latest Web Farm Framework from Microsoft to deploy a set of load balanced ASP.Net servers on Amazon EC2. An overview from Scott Guthrie was very helpful in getting started:</p>
<p><a href="http://weblogs.asp.net/scottgu/archive/2010/09/08/introducing-the-microsoft-web-farm-framework.aspx"><a href="http://weblogs.asp.net/scottgu/archive/2010/09/08/introducing-the-microsoft-web-farm-framework.aspx">http://weblogs.asp.net/scottgu/archive/2010/09/08/introducing-the-microsoft-web-farm-framework.aspx</a></a></p>
<p>However, configuring the EC2 instances was not without a few gotchas.  For the most part, I followed a well written recipe from this site: </p>
<p><a href="http://blog.cirronix.com/2011/05/aws-ec2-with-web-farm-framework.html"><a href="http://blog.cirronix.com/2011/05/aws-ec2-with-web-farm-framework.html">http://blog.cirronix.com/2011/05/aws-ec2-with-web-farm-framework.html</a></a></p>
<p>However, I had to change a few things to work for my setup.</p>
<p><strong>Security Groups</strong></p>
<p>The mebbi guide states that you need to open firewall ports publicly to get WFF to connect initially.  Since this is a small app, all my servers are all in the same Availability Zone and security group.  Granting the &#8220;Web Server&#8221; security group access to itself was good enough.  It looks like this in the Amazon Management Console:</p>
<p><img src="http://media.tumblr.com/tumblr_lzgdp06Brh1qjihew.png"/></p>
<p>You can also optionally open specific ports like it states in the mebbi guide.</p>
<p><strong>User Account Control (UAC)</strong></p>
<p>I did not have to disable UAC in order to connect between instances.  I did, however, check to make sure that a certain registry key was set as stated in this article:</p>
<p><a href="http://forums.iis.net/p/1175051/1984889.aspx#1984889"><a href="http://forums.iis.net/p/1175051/1984889.aspx#1984889">http://forums.iis.net/p/1175051/1984889.aspx#1984889</a></a></p>
<p>If you are on Windows 2008R2 (and all newer EC2 instances are), Administrator accounts will not be able to access other instances by default.</p>
</div>


  <footer>
    <p class="meta">
      
  



      








  


<time datetime="2012-02-15T00:00:00-08:00" pubdate data-updated="true"></time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2011/12/29/using-elmah-with-aspnet-and-mysql.html" title="Previous Post: Using ELMAH with ASP.Net and MySQL">&laquo; Using ELMAH with ASP.Net and MySQL</a>
      
      
        <a class="basic-alignment right" href="/2012/12/29/why-waze-wins-the-navigation-wars.html" title="Next Post: Why Waze Wins the Navigation Wars">Why Waze Wins the Navigation Wars &raquo;</a>
      
    </p>
  </footer>
</article>

</div>



          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
